schema
  @link(url: "https://specs.apollo.dev/link/v1.0")
  @link(url: "https://specs.apollo.dev/join/v0.4", for: EXECUTION)
  @link(url: "https://specs.apollo.dev/tag/v0.3") {
  query: Query
}

directive @join__graph(name: String!, url: String!) on ENUM_VALUE

directive @join__enumValue(graph: join__Graph!) repeatable on ENUM_VALUE

directive @join__field(
  graph: join__Graph
  requires: join__FieldSet
  provides: join__FieldSet
  type: String
  external: Boolean
  override: String
  usedOverridden: Boolean
  overrideLabel: String
) repeatable on FIELD_DEFINITION | INPUT_FIELD_DEFINITION

directive @join__implements(graph: join__Graph!, interface: String!) repeatable on OBJECT | INTERFACE

directive @join__type(
  graph: join__Graph!
  key: join__FieldSet
  extension: Boolean! = false
  resolvable: Boolean! = true
  isInterfaceObject: Boolean! = false
) repeatable on OBJECT | INTERFACE | UNION | ENUM | INPUT_OBJECT | SCALAR

directive @join__unionMember(graph: join__Graph!, member: String!) repeatable on UNION

directive @link(url: String, as: String, for: link__Purpose, import: [link__Import]) repeatable on SCHEMA

directive @tag(
  name: String!
) repeatable on FIELD_DEFINITION | OBJECT | INTERFACE | UNION | ARGUMENT_DEFINITION | SCALAR | ENUM | ENUM_VALUE | INPUT_OBJECT | INPUT_FIELD_DEFINITION | SCHEMA

scalar join__FieldSet

scalar link__Import

enum link__Purpose {
  EXECUTION
}

enum join__Graph {
  SUPER_USER_MANAGER @join__graph(name: "elite_management", url: "http://i.am.not.used.example.com")
  GRAPHQL_MAIN__SHARD__BASE @join__graph(name: "graphql_main__shard__base", url: "http://i.am.not.used.example.com")
  GRAPHQL_MAIN__SHARD__INTERNAL_TESTING
    @join__graph(name: "graphql_main__shard__internal_testing", url: "http://i.am.not.used.example.com")
}

type Query {
  superUser: SuperUser! @join__field(graph: GRAPHQL_MAIN__SHARD__BASE)
}

enum UserManagerRoleType @join__type(graph: SUPER_USER_MANAGER) {
  ROLE_TYPE_1 @join__enumValue(graph: SUPER_USER_MANAGER)

  ROLE_TYPE_2 @join__enumValue(graph: SUPER_USER_MANAGER)

  ROLE_TYPE_3 @join__enumValue(graph: SUPER_USER_MANAGER)
}

type UserManager @join__type(graph: SUPER_USER_MANAGER) {
  fooUser: User!

  roleType: UserManagerRoleType!
}

type User {
  id: ID!
  profilePhoto: UserProfilePhoto @join__field(graph: GRAPHQL_MAIN__SHARD__BASE)
}

type UserProfilePhoto @join__type(graph: GRAPHQL_MAIN__SHARD__BASE) {
  id: ID!
  photoUrl: UserPhotoUrl
}

type UserPhotoUrl @join__type(graph: GRAPHQL_MAIN__SHARD__BASE) {
  url(size: UserPhotoSize!): String
}

enum UserPhotoSize
  @join__type(graph: GRAPHQL_MAIN__SHARD__BASE)
  @join__type(graph: GRAPHQL_MAIN__SHARD__INTERNAL_TESTING) {
  SQUARE_300
    @join__enumValue(graph: GRAPHQL_MAIN__SHARD__BASE)
    @join__enumValue(graph: GRAPHQL_MAIN__SHARD__INTERNAL_TESTING)
}

type SuperUser @join__type(graph: GRAPHQL_MAIN__SHARD__BASE) {
  squadFromAlias(alias: String!): SuperUserGroup!
}

type SuperUserGroup
  @join__type(graph: SUPER_USER_MANAGER, key: "id")
  @join__type(graph: GRAPHQL_MAIN__SHARD__BASE, key: "id") {
  id: ID!

  managers(onlyPublic: Boolean! = false): [UserManager!] @join__field(graph: SUPER_USER_MANAGER)
}
