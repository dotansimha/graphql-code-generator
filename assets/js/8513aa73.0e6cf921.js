"use strict";(self.webpackChunk_graphql_codegen_website=self.webpackChunk_graphql_codegen_website||[]).push([[8194],{35318:function(e,t,n){n.d(t,{Zo:function(){return c},kt:function(){return m}});var r=n(27378);function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){o(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var l=r.createContext({}),p=function(e){var t=r.useContext(l),n=t;return e&&(n="function"==typeof e?e(t):i(i({},t),e)),n},c=function(e){var t=p(e.components);return r.createElement(l.Provider,{value:t},e.children)},u={inlineCode:"code",wrapper:function(e){var t=e.children;return r.createElement(r.Fragment,{},t)}},d=r.forwardRef((function(e,t){var n=e.components,o=e.mdxType,a=e.originalType,l=e.parentName,c=s(e,["components","mdxType","originalType","parentName"]),d=p(n),m=o,g=d["".concat(l,".").concat(m)]||d[m]||u[m]||a;return n?r.createElement(g,i(i({ref:t},c),{},{components:n})):r.createElement(g,i({ref:t},c))}));function m(e,t){var n=arguments,o=t&&t.mdxType;if("string"==typeof e||o){var a=n.length,i=new Array(a);i[0]=d;var s={};for(var l in t)hasOwnProperty.call(t,l)&&(s[l]=t[l]);s.originalType=e,s.mdxType="string"==typeof e?e:o,i[1]=s;for(var p=2;p<a;p++)i[p]=n[p];return r.createElement.apply(null,i)}return r.createElement.apply(null,n)}d.displayName="MDXCreateElement"},62145:function(e,t,n){n.r(t),n.d(t,{frontMatter:function(){return s},contentTitle:function(){return l},metadata:function(){return p},toc:function(){return c},default:function(){return d}});var r=n(25773),o=n(30808),a=(n(27378),n(35318)),i=["components"],s={id:"development-workflow",title:"Development Workflow"},l=void 0,p={unversionedId:"getting-started/development-workflow",id:"getting-started/development-workflow",isDocsHomePage:!1,title:"Development Workflow",description:"The GraphQL Code Generator should be integrated as part of your development workflow.",source:"@site/docs/getting-started/development-workflow.md",sourceDirName:"getting-started",slug:"/getting-started/development-workflow",permalink:"/docs/getting-started/development-workflow",editUrl:"https://github.com/dotansimha/graphql-code-generator/edit/master/website/docs/getting-started/development-workflow.md",tags:[],version:"current",frontMatter:{id:"development-workflow",title:"Development Workflow"},sidebar:"sidebar",previous:{title:"Lifecycle Hooks",permalink:"/docs/getting-started/lifecycle-hooks"},next:{title:"Programmatic Usage",permalink:"/docs/getting-started/programmatic-usage"}},c=[{value:"Scripts Integration",id:"scripts-integration",children:[],level:3},{value:"Watch Mode",id:"watch-mode",children:[],level:3},{value:"Monorepo and Yarn Workspaces",id:"monorepo-and-yarn-workspaces",children:[],level:3}],u={toc:c};function d(e){var t=e.components,n=(0,o.Z)(e,i);return(0,a.kt)("wrapper",(0,r.Z)({},u,n,{components:t,mdxType:"MDXLayout"}),(0,a.kt)("p",null,"The GraphQL Code Generator should be integrated as part of your development workflow."),(0,a.kt)("h3",{id:"scripts-integration"},"Scripts Integration"),(0,a.kt)("p",null,"If you wish to run the codegen before starting your server/app, you can use ",(0,a.kt)("inlineCode",{parentName:"p"},"pre")," scripts in your ",(0,a.kt)("inlineCode",{parentName:"p"},"package.json"),", for example:"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-json"},'{\n  "scripts": {\n    "dev": "nodemon app.js",\n    "start": "node app.js",\n    "generate": "graphql-codegen",\n    "prestart": "yarn generate",\n    "predev": "yarn generate"\n  }\n}\n')),(0,a.kt)("p",null,"This way, the codegen will generate the output according to your configuration before each time you run ",(0,a.kt)("inlineCode",{parentName:"p"},"dev")," or ",(0,a.kt)("inlineCode",{parentName:"p"},"start")," scripts."),(0,a.kt)("p",null,"It's also useful to run the codegen during your continuous integration flow and make sure that you code always compiles with the generated output, this way you can detect breaking changes in your GraphQL schema and GraphQL documents."),(0,a.kt)("h3",{id:"watch-mode"},"Watch Mode"),(0,a.kt)("p",null,"If you wish to run the codegen in watch mode, you can specify ",(0,a.kt)("inlineCode",{parentName:"p"},"--watch")," (or ",(0,a.kt)("inlineCode",{parentName:"p"},"-w"),") when running it."),(0,a.kt)("p",null,"You can either run it in a separate terminal session, or use tools like ",(0,a.kt)("a",{parentName:"p",href:"https://www.npmjs.com/package/concurrently"},(0,a.kt)("inlineCode",{parentName:"a"},"concurrently"))," to run two scripts at the same time:"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-json"},'{\n  "scripts": {\n    "dev": "concurrently \\"nodemon app.js\\" \\"yarn generate --watch\\"",\n    "start": "node app.js",\n    "generate": "graphql-codegen",\n    "prestart": "yarn generate"\n  }\n}\n')),(0,a.kt)("p",null,"If you wish, you can specify a custom list of files to watch, by adding a glob expression to the command, using ",(0,a.kt)("inlineCode",{parentName:"p"},"--watch")," flag:"),(0,a.kt)("div",{className:"admonition admonition-shell"},(0,a.kt)("div",{parentName:"div",className:"admonition-heading"},(0,a.kt)("h5",{parentName:"div"},(0,a.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,a.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"16pt",height:"16pt",viewBox:"0 0 16 16"},(0,a.kt)("path",{parentName:"svg",d:"M0 0v16h16V0zm15.063 15.063H.937v-11h14.126zm0-11.938H.937V.937h14.126zm0 0"}),(0,a.kt)("path",{parentName:"svg",d:"M1.875 1.563h.938V2.5h-.938zm0 0M3.438 1.563h.937V2.5h-.938zm0 0M5 1.563h.938V2.5H5zm0 0M1.875 5.074v1.348l.988.637-.988.578V9.05l2.828-1.668v-.586zm0 0M5.34 7.559h1.027v1.226H5.34zm0 0M5.34 5.32h1.027v1.23H5.34zm0 0M6.8 8.785h2.356v1.137H6.801zm0 0"}))),'""')),(0,a.kt)("div",{parentName:"div",className:"admonition-content"},(0,a.kt)("pre",{parentName:"div"},(0,a.kt)("code",{parentName:"pre"},'yarn graphql-codegen --watch "src/**/*.js"\n')),(0,a.kt)("p",{parentName:"div"},"Use this when you are loading your schema or documents from a single code file, that depends on other files internally, because codegen can't tell that you using those files automatically.   "))),(0,a.kt)("p",null,"By default, watch mode uses the system's native support to listen for file change events. This can be configured in the settings file to use a stat polling method instead in unusual cases where system support is unavailable."),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-yml"},"watch: true\n# Passed directly through to chokidar's file watch configuration\nwatchConfig: \n  usePolling: true\n  interval: 1000\n")),(0,a.kt)("h3",{id:"monorepo-and-yarn-workspaces"},"Monorepo and Yarn Workspaces"),(0,a.kt)("p",null,"If you are using a monorepo structure, with tools such as ",(0,a.kt)("a",{parentName:"p",href:"https://yarnpkg.com/lang/en/docs/workspaces/"},"Yarn Workspaces")," or ",(0,a.kt)("a",{parentName:"p",href:"https://github.com/lerna/lerna"},"Lerna"),", we recommend to install the codegen in the root of your monorepo."),(0,a.kt)("p",null,"If you need to execute the codegen multiple times, note that you can specify multiple fields for ",(0,a.kt)("inlineCode",{parentName:"p"},"generates")," field, for example:"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-yml"},"schema: 'server/src/**/*.graphql'\ndocuments: 'client/src/**/*.graphql'\ngenerates:\n  client/src/models.ts:\n    - typescript\n    - typescript-operations\n  server/src/models.ts:\n    - typescript\n    - typescript-resolvers\n")))}d.isMDXComponent=!0}}]);